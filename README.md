# HAMT-Correctness-Verification

Author: Chris Conyers 

This Github repository serves as the public, open source homepage for an independent research project seeking a robust algorithmic verification of the Hash-Array Mapped Trie (HAMT) data structure, being conducted at Boston College with the assistance of Professor Carl McTague. Together, we are attempting to prove various functional properties of this abstract data type, including data security and consistency, through use of a model-based hierarchical approach and Coq’s native proof checker, as well as Coq’s TypeClass system. To prepare for this project, readings and excersizes in Software Foundations volumes 1, 3, and 4 were completed and are foundational skills for this level of verification. 

	A HAMT ADT is an associative array which combines elements of hashing with a trie data structure to create a tree that maps key - value pairs and offers efficient insertion, deletion, and search operations. This data structure is similar to an association list, where nodes contain key value pairs and mappings to other HAMT nodes. However, a HAMT is able to achieve more efficient operations through use of the trie structure, as keys are hashed into discrete sets of bits used as indices into different levels of the tree. At each level, collisions generate new branches of the tree, and the next set of bits in each key’s hash value determine its lower level index. Thus, HAMT’s grow dynamically, avoiding the expensive periodic resizing typical of other tree implementations, while economically using space by only generating subsequent levels at collision points. Typically, each node in the tree contains a table with a fixed number n slots to store data and a bitmap to track populated slots. The number of slots is usually a multiple of 8, with a larger root table to improve performance. 

	This project leverages Coq’s proof checker and type class system to prove correctness properties. In the BranchTree files contained in this repository, we define a Table class with a set of tree operations and corresponding Functional and Algorithmic class properties, which are then shown to hold for basic functional and algorithmic table implementations. We then define a branch tree table implementation which takes as its parameters two finite maps and corresponding key types, a value type, and set of correctness proofs derived from Coq’s implicit type class system. This class represents the basic HAMT structure, where keys are either mappings to values or mappings to other sub-HAMT data structures. This structure was then proven to preserve algorithmic properties necessary to maintain table integrity, and can be nested within itself to develop a HAMT model with a set number of sub-layers, taking the finite map arguments and hashing function as parameters. This use of Coq’s type class system and hierarchical model structure allows us to bridge the language gap between Coq and practical languages like Python and Java in proving universal table properties for HAMT’s by providing an understandable and efficient way of representing its hashing and trie elements. 

	The premium on data security and efficiency continues to rise with increasing storage necessity, cloud reliance, and larger algorithmic operations demanded by the current technological climate. Thus, this project seeks to develop a deeper understanding of the HAMT data structure due to its value as an easily implemented, efficient structure and offer correctness and upper bound time complexity assurances. 
